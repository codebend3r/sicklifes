<nav-menu></nav-menu>

<preloader loading='loading'></preloader>

<div ng-if='!loading' class='panel-body'>

  <h2>Monthly Winners</h2>
  
  <select class='form-control' ng-model='selectedMonth' ng-options='option.monthName for option in allMonths' ng-change='changeMonth(selectedMonth)'></select>
  
  <button ng-if='admin' type='button' class='btn btn-danger' ng-click='populateTable()'>Update Data</button>
  <button ng-if='admin' type='button' class='btn btn-danger' ng-click='saveToFireBase()'>Save Data to Firebase</button>
  
  <div class='manager-section' ng-repeat='manager in allManagers'>
    
    <div class='manager-info-panel'>
      <h3 class='manager-name'>{{manager.personName}}</h3>
      <div class='goals-container'>
        <p><span class='total-goals'>{{manager.totalGoals}}</span><span> goals in {{selectedMonth.monthName}}</span></p>
        <p><span class='total-goals'>{{manager.totalPoints}}</span><span> total points in {{selectedMonth.monthName}}</span></p>
      </div>
    </div>
    
    <player-details-table table-body-template='monthly-log' game-details='manager.filteredMonthlyGoalsLog' table-header='tableHeader'></player-details-table>
    
    
  </div>

  

</div>


