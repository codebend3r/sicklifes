<preloader loading='loading'></preloader>

<div ng-if='!loading' class='panel-body'>

  <h2>Standings</h2>

  <div ng-if='admin' class='well'>
    <button type='button' class='btn btn-danger' ng-click='updateAllManagerData()'>Update All Managers Data</button>
    <button type='button' class='btn btn-danger' ng-click='saveToFireBase()'>Save Data to Firebase</button>
  </div>

  <table class='table table-hover table-responsive'>
    <thead>
    <tr>
      <th ng-repeat='header in tableHeader'>{{header.text}}</th>
    </tr>
    </thead>
    <tbody>
    <tr ng-repeat="manager in managersData | orderObjectBy:'totalPoints':true">
      <td><a ui-sref="managers({managerId: manager.managerName.toLowerCase()})">{{manager.managerName}}</a></td>
      <td>{{manager.domesticGoals}}</td>
      <td>{{manager.clGoals}}</td>
      <td>{{manager.eGoals}}</td>
      <td>{{manager.totalPoints}}</td>
    </tr>
    </tbody>
  </table>

</div>
